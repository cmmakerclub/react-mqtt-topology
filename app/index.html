<!doctype html>
<html lang="">
<head>
  <meta charset="utf-8">
  <meta name="description" content="">
  <meta name="viewport">
  <title>appName: appname</title>


  <!-- build:css styles/vendor.css -->
  <!-- bower:css -->
  <!-- endbower -->
  <!-- endbuild -->

  <!-- build:css styles/main.css -->
  <link rel="stylesheet" href="../bower_components/bulma/css/bulma.css">
  <link rel="stylesheet" href="../bower_components/components-font-awesome/css/font-awesome.css">
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild -->
</head>
<body>

<!--[if IE]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
  your browser</a> to improve your experience.</p>
<![endif]-->

<div class="container">
  <section class="section">
    <div class="container">
      <h1 class="title">MQTT <i class="fa-li fa fa-spinner fa-spin mqtt-connecting"></i></h1>
      <h2 class="subtitle">
        webapp template
      </h2>
      <div class="notification">
        <p>appName: appname</p>
        <p>mqttHostName: beta.cmmc.io</p>
        <p>mqttPort: 59001</p>
        <p>mqttClientId: cmmc-ws-2947.9026</p>
        <p>mqttPrefix: MARU/</p>
        <p>mqttPubTopic: MARU/YOUR-NAME-001/$/command</p>
        <p>mqttSubTopic: MARU/YOUR-NAME-001/status</p>
      </div>

      <div class="publish-wrapper notification is-hidden">
        <div class="container">
          <h3 id="colors" class="title is-4 bd-anchor-title"> Publish: </h3>
          <div class="field is-grouped">
            <div class="control">
              <button class="publish-on-button button is-primary">ON</button>
            </div>
            <div class="control">
              <button class="publish-off-button button-off button is-danger">OFF</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <article class="message">
        <div class="message-header">
          <p class="message-header-text">Message</p>
        </div>
        <div class="message-body">
          <p class="title" id='incoming-messages'>connecting..</p>
        </div>
      </article>
    </div>
  </section>

</div>


<!-- build:js scripts/vendor.js -->
<script src="../bower_components/jquery/dist/jquery.min.js"></script>
<script src="../bower_components/moment/moment.js"></script>
<script src="../bower_components/moment-timezone/moment-timezone.js"></script>
<script src="../bower_components/paho-mqtt/src/mqttws31.js"></script>
<!-- bower:js -->
<!-- endbower -->
<!-- endbuild -->

<!-- build:js scripts/main.js -->
<script src="scripts/config.js"></script>
<script src="scripts/main.js"></script>
<!-- endbuild -->


<script type="text/javascript">
  jQuery('document').ready(function ($) {
    connectServer()
    // var topic = $('#topic-input').val()
    // var payload = $('#payload-input').val()
    $('.publish-on-button').click(function () {
      Global.mqtt.publish('MARU/YOUR-NAME-001/$/command', 'ON')
    })
    $('.publish-off-button').click(function () {
      Global.mqtt.publish('MARU/YOUR-NAME-001/$/command', 'OFF')
    })
  })
</script>
</body>
</html>
